# Shop Project

Проект интернет-магазина с системой управления товарами и категориями.

## Основная функциональность

### Классы

- **`Product`** (товар)
  - Атрибуты: 
    - `name` (название)
    - `description` (описание)
    - `price` (приватный атрибут с защитой)
    - `quantity` (количество)

  - Особенности:
    - Автоматическая проверка цены (не может быть ≤ 0)
    - Подтверждение при понижении цены
    - Класс-метод `new_product()` для создания из словаря
    - Строковое представление в формате:  
    - Сложение товаров через `__add__` (цена × количество)
    - Поддержка итерации по списку товаров
  
- **`Category`** (категория)
  - Атрибуты:
    - `name` (название)
    - `description` (описание)
    - `products` (геттер с форматированным выводом)

  - Атрибуты класса:
    - `category_count` (количество категорий)
    - `product_count` (общее количество товаров)
    - Строковое представление в формате:  
    `Название категории, количество продуктов: X шт.`
    - Автоматический подсчет товаров
    - Поддержка итерации через `__iter__`


### Дополнительные возможности

- Защита данных:
  - Приватный атрибут цены товара
  - Валидация при изменении цены
  - Подтверждение опасных операций

- Работа с данными:
  - Загрузка из JSON-файла (`data/products.json`)
  - Автоматический подсчет товаров/категорий
  - Интуитивно понятное строковое представление объектов


## Тестирование

### Команды для проверки
 ```bash
   # Запуск всех тестов
  pytest tests/

  # Проверка конкретных функций
  pytest tests/test_product.py::test_product_add -v
  pytest tests/test_category.py::test_category_str -v

  # Проверка покрытия
  coverage run -m pytest tests/
  coverage report -m
   ```

### Покрытие тестами

- Все ключевые функции: >85%
- Основные сценарии: 100%
- Граничные случаи: 90%

## Запуск проекта

1. Установить зависимости:
   ```bash
   poetry install
   ```
2. Запустить тесты:
   ```bash
   pytest tests/
   ```
3. Запустить основной скрипт:
    ```bash
   python main.py
   ```
   

## Структура проекта

shop_project/
├── data/                  # Данные в JSON
├── src/
│   ├── models/
│   │   ├── product.py     # Товар с новыми методами __str__ и __add__
│   │   └── category.py    # Категория с __str__
├── tests/
│   ├── test_product.py    # Тесты новых возможностей Product
│   └── test_category.py   # Тесты Category
└── README.md


## Последние изменения

- Полная защита данных товаров
- Математические операции с товарами
- Гибкое строковое представление
- Итерация по категориям
- Подтверждение критичных операций
- Полное тестовое покрытие


## Требования

- Python 3.9+
- Poetry (для управления зависимостями)
- pytest (для тестирования)
