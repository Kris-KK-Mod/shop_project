# Shop Project

Проект интернет-магазина с системой управления товарами и категориями.

## Основная функциональность

### Классы

- **`Product`** (товар)
  - Атрибуты: 
    - `name` (название)
    - `description` (описание)
    - `price` (приватный атрибут с защитой)
    - `quantity` (количество)
  - Особенности:
    - Автоматическая проверка цены (не может быть ≤ 0)
    - Подтверждение при понижении цены
    - Класс-метод `new_product()` для создания из словаря
  
- **`Category`** (категория)
  - Атрибуты:
    - `name` (название)
    - `description` (описание)
    - `products` (геттер с форматированным выводом)
  - Атрибуты класса:
    - `category_count` (количество категорий)
    - `product_count` (общее количество товаров)

### Дополнительные возможности

- Защита данных:
  - Приватный атрибут цены товара
  - Валидация при изменении цены
  - Подтверждение опасных операций
- Работа с данными:
  - Загрузка из JSON-файла (`data/products.json`)
  - Автоматический подсчет товаров/категорий

## Тестирование

- Покрытие тестами >80%
- Проверяемые аспекты:
  ```bash
  pytest tests/ --cov=src --cov-report=term-missing
  ```
  - Корректность инициализации объектов
  - Подсчёт количества товаров и категорий
  - Работа с JSON-данными
  - Обработка ошибок
  - Защита от некорректных цен
  - Работа подтверждения изменений
  - Корректность форматированного вывода

## Запуск проекта

1. Установить зависимости:
   ```bash
   poetry install
   ```
2. Запустить тесты:
   ```bash
   pytest tests/
   ```
3. Запустить основной скрипт:
    ```bash
   python main.py
   ```
   
## Структура проекта

shop_project/
├── data/                  # Данные в JSON
├── src/
│   ├── models/            # Основные классы
│   │   ├── product.py     # Товар с защитой цены
│   │   └── category.py    # Управление категориями
├── tests/
│   ├── test_product.py    # Тесты защиты цены
│   └── test_category.py   # Тесты категорий
└── README.md

## Последние изменения

- Добавлена защита цены товара
- Реализовано подтверждение изменений
- Улучшено тестовое покрытие

## Требования

- Python 3.9+
- Poetry (для управления зависимостями)
